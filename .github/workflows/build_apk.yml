- name: Create Analysis Options
  run: |
    # analysis_options.yaml فائل بنائیں
    cat > analysis_options.yaml << 'EOL'
analyzer:
  exclude:
    - "**/*.g.dart"
    - "**/*.freezed.dart" 
    - "**/*.gr.dart"
    - "temp_fixed_app/**"

  language:
    strict-casts: true
    strict-inference: true
    strict-raw-types: true

  errors:
    unused_import: error
    unused_field: error
    unused_element: error
    dead_code: error
    prefer_const_constructors: ignore
    use_build_context_synchronously: ignore

linter:
  rules:
    - always_declare_return_types
    - avoid_print
    - prefer_const_constructors
    - use_build_context_synchronously
EOL

    # temporary فولڈر کے لیے الگ analysis options
    cat > temp_fixed_app/analysis_options.yaml << 'EOL'
analyzer:
  errors:
    prefer_const_constructors: ignore
    use_build_context_synchronously: ignore

linter:
  rules:
    - avoid_print
EOL
